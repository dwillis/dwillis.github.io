<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 18 Visualizing your data for reporting | Data Journalism with R and the Tidyverse</title>
  <meta name="description" content="This is a book built on a very opinionated philosophy for journalism students doing data journalism in R with replicable methods." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 18 Visualizing your data for reporting | Data Journalism with R and the Tidyverse" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book built on a very opinionated philosophy for journalism students doing data journalism in R with replicable methods." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 18 Visualizing your data for reporting | Data Journalism with R and the Tidyverse" />
  
  <meta name="twitter:description" content="This is a book built on a very opinionated philosophy for journalism students doing data journalism in R with replicable methods." />
  

<meta name="author" content="Matt Waite (original author); updated by Derek Willis and Sean Mussenden" />


<meta name="date" content="2021-11-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro-to-apis-the-census.html"/>
<link rel="next" href="visualizing-your-data-for-publication.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-160712129-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-160712129-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="http://smussenden.github.io/coursefiles/data_journalism_book/">Data Journalism With R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#modern-data-journalism"><i class="fa fa-check"></i><b>1.1</b> Modern data journalism</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installations"><i class="fa fa-check"></i><b>1.2</b> Installations</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i><b>1.3</b> About this book</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#what-well-cover"><i class="fa fa-check"></i><b>1.4</b> What we’ll cover</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="public-records.html"><a href="public-records.html"><i class="fa fa-check"></i><b>2</b> Public records</a>
<ul>
<li class="chapter" data-level="2.1" data-path="public-records.html"><a href="public-records.html#federal-law"><i class="fa fa-check"></i><b>2.1</b> Federal law</a></li>
<li class="chapter" data-level="2.2" data-path="public-records.html"><a href="public-records.html#state-law"><i class="fa fa-check"></i><b>2.2</b> State law</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>3</b> R basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-basics.html"><a href="r-basics.html#about-libraries"><i class="fa fa-check"></i><b>3.1</b> About libraries</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-journalism-in-the-age-of-replication.html"><a href="data-journalism-in-the-age-of-replication.html"><i class="fa fa-check"></i><b>4</b> Data journalism in the age of replication</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-journalism-in-the-age-of-replication.html"><a href="data-journalism-in-the-age-of-replication.html#the-stylebook"><i class="fa fa-check"></i><b>4.1</b> The stylebook</a></li>
<li class="chapter" data-level="4.2" data-path="data-journalism-in-the-age-of-replication.html"><a href="data-journalism-in-the-age-of-replication.html#replication"><i class="fa fa-check"></i><b>4.2</b> Replication</a></li>
<li class="chapter" data-level="4.3" data-path="data-journalism-in-the-age-of-replication.html"><a href="data-journalism-in-the-age-of-replication.html#goodbye-excel"><i class="fa fa-check"></i><b>4.3</b> Goodbye Excel?</a></li>
<li class="chapter" data-level="4.4" data-path="data-journalism-in-the-age-of-replication.html"><a href="data-journalism-in-the-age-of-replication.html#receptivity-is-high"><i class="fa fa-check"></i><b>4.4</b> “Receptivity … is high”</a></li>
<li class="chapter" data-level="4.5" data-path="data-journalism-in-the-age-of-replication.html"><a href="data-journalism-in-the-age-of-replication.html#replication-in-notebooks"><i class="fa fa-check"></i><b>4.5</b> Replication in notebooks</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html"><i class="fa fa-check"></i><b>5</b> Data, structures and types</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html#a-mental-picture"><i class="fa fa-check"></i><b>5.1</b> A Mental Picture</a></li>
<li class="chapter" data-level="5.2" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html#types"><i class="fa fa-check"></i><b>5.2</b> Types</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="aggregates.html"><a href="aggregates.html"><i class="fa fa-check"></i><b>6</b> Aggregates</a>
<ul>
<li class="chapter" data-level="6.1" data-path="aggregates.html"><a href="aggregates.html#libraries"><i class="fa fa-check"></i><b>6.1</b> Libraries</a></li>
<li class="chapter" data-level="6.2" data-path="aggregates.html"><a href="aggregates.html#importing-data"><i class="fa fa-check"></i><b>6.2</b> Importing data</a></li>
<li class="chapter" data-level="6.3" data-path="aggregates.html"><a href="aggregates.html#group-by-and-count"><i class="fa fa-check"></i><b>6.3</b> Group by and count</a></li>
<li class="chapter" data-level="6.4" data-path="aggregates.html"><a href="aggregates.html#other-summarization-methods-summing-mean-median-min-and-max"><i class="fa fa-check"></i><b>6.4</b> Other summarization methods: summing, mean, median, min and max</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="mutating-data.html"><a href="mutating-data.html"><i class="fa fa-check"></i><b>7</b> Mutating data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="mutating-data.html"><a href="mutating-data.html#another-use-of-mutate"><i class="fa fa-check"></i><b>7.1</b> Another use of mutate</a></li>
<li class="chapter" data-level="7.2" data-path="mutating-data.html"><a href="mutating-data.html#a-more-powerful-use"><i class="fa fa-check"></i><b>7.2</b> A more powerful use</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="working-with-dates.html"><a href="working-with-dates.html"><i class="fa fa-check"></i><b>8</b> Working with dates</a>
<ul>
<li class="chapter" data-level="8.1" data-path="working-with-dates.html"><a href="working-with-dates.html#the-hard-way"><i class="fa fa-check"></i><b>8.1</b> The hard way</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="filters-and-selections.html"><a href="filters-and-selections.html"><i class="fa fa-check"></i><b>9</b> Filters and selections</a>
<ul>
<li class="chapter" data-level="9.1" data-path="filters-and-selections.html"><a href="filters-and-selections.html#combining-filters"><i class="fa fa-check"></i><b>9.1</b> Combining filters</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-cleaning-part-i-data-smells.html"><a href="data-cleaning-part-i-data-smells.html"><i class="fa fa-check"></i><b>10</b> Data Cleaning Part I: Data smells</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-cleaning-part-i-data-smells.html"><a href="data-cleaning-part-i-data-smells.html#wrong-type"><i class="fa fa-check"></i><b>10.1</b> Wrong Type</a></li>
<li class="chapter" data-level="10.2" data-path="data-cleaning-part-i-data-smells.html"><a href="data-cleaning-part-i-data-smells.html#missing-data"><i class="fa fa-check"></i><b>10.2</b> Missing Data</a></li>
<li class="chapter" data-level="10.3" data-path="data-cleaning-part-i-data-smells.html"><a href="data-cleaning-part-i-data-smells.html#gaps-in-data"><i class="fa fa-check"></i><b>10.3</b> Gaps in data</a></li>
<li class="chapter" data-level="10.4" data-path="data-cleaning-part-i-data-smells.html"><a href="data-cleaning-part-i-data-smells.html#supicious-outliers"><i class="fa fa-check"></i><b>10.4</b> Supicious Outliers</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-cleaning-part-ii-janitor.html"><a href="data-cleaning-part-ii-janitor.html"><i class="fa fa-check"></i><b>11</b> Data Cleaning Part II: Janitor</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-cleaning-part-ii-janitor.html"><a href="data-cleaning-part-ii-janitor.html#cleaning-headers"><i class="fa fa-check"></i><b>11.1</b> Cleaning headers</a></li>
<li class="chapter" data-level="11.2" data-path="data-cleaning-part-ii-janitor.html"><a href="data-cleaning-part-ii-janitor.html#changing-data-types"><i class="fa fa-check"></i><b>11.2</b> Changing data types</a></li>
<li class="chapter" data-level="11.3" data-path="data-cleaning-part-ii-janitor.html"><a href="data-cleaning-part-ii-janitor.html#duplicates"><i class="fa fa-check"></i><b>11.3</b> Duplicates</a></li>
<li class="chapter" data-level="11.4" data-path="data-cleaning-part-ii-janitor.html"><a href="data-cleaning-part-ii-janitor.html#cleaning-strings"><i class="fa fa-check"></i><b>11.4</b> Cleaning strings</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data-cleaning-part-iii-open-refine.html"><a href="data-cleaning-part-iii-open-refine.html"><i class="fa fa-check"></i><b>12</b> Data Cleaning Part III: Open Refine</a>
<ul>
<li class="chapter" data-level="12.1" data-path="data-cleaning-part-iii-open-refine.html"><a href="data-cleaning-part-iii-open-refine.html#refinr-open-refine-in-r"><i class="fa fa-check"></i><b>12.1</b> Refinr, Open Refine in R</a></li>
<li class="chapter" data-level="12.2" data-path="data-cleaning-part-iii-open-refine.html"><a href="data-cleaning-part-iii-open-refine.html#manually-cleaning-data-with-open-refine"><i class="fa fa-check"></i><b>12.2</b> Manually cleaning data with Open Refine</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="cleaning-data-part-iv-pdfs.html"><a href="cleaning-data-part-iv-pdfs.html"><i class="fa fa-check"></i><b>13</b> Cleaning Data Part IV: PDFs</a>
<ul>
<li class="chapter" data-level="13.1" data-path="cleaning-data-part-iv-pdfs.html"><a href="cleaning-data-part-iv-pdfs.html#easy-does-it"><i class="fa fa-check"></i><b>13.1</b> Easy does it</a></li>
<li class="chapter" data-level="13.2" data-path="cleaning-data-part-iv-pdfs.html"><a href="cleaning-data-part-iv-pdfs.html#when-it-looks-good-but-needs-a-little-fixing"><i class="fa fa-check"></i><b>13.2</b> When it looks good, but needs a little fixing</a></li>
<li class="chapter" data-level="13.3" data-path="cleaning-data-part-iv-pdfs.html"><a href="cleaning-data-part-iv-pdfs.html#cleaning-up-the-data-in-r"><i class="fa fa-check"></i><b>13.3</b> Cleaning up the data in R</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="combining-and-joining.html"><a href="combining-and-joining.html"><i class="fa fa-check"></i><b>14</b> Combining and joining</a>
<ul>
<li class="chapter" data-level="14.1" data-path="combining-and-joining.html"><a href="combining-and-joining.html#combining-data-stacking"><i class="fa fa-check"></i><b>14.1</b> Combining data (stacking)</a></li>
<li class="chapter" data-level="14.2" data-path="combining-and-joining.html"><a href="combining-and-joining.html#joining-data"><i class="fa fa-check"></i><b>14.2</b> Joining data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="scraping-data-with-rvest.html"><a href="scraping-data-with-rvest.html"><i class="fa fa-check"></i><b>15</b> Scraping data with Rvest</a></li>
<li class="chapter" data-level="16" data-path="advanced-rvest.html"><a href="advanced-rvest.html"><i class="fa fa-check"></i><b>16</b> Advanced rvest</a>
<ul>
<li class="chapter" data-level="16.1" data-path="advanced-rvest.html"><a href="advanced-rvest.html#using-for-loops"><i class="fa fa-check"></i><b>16.1</b> Using for loops</a></li>
<li class="chapter" data-level="16.2" data-path="advanced-rvest.html"><a href="advanced-rvest.html#looping-and-rvest"><i class="fa fa-check"></i><b>16.2</b> Looping and rvest</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="intro-to-apis-the-census.html"><a href="intro-to-apis-the-census.html"><i class="fa fa-check"></i><b>17</b> Intro to APIs: The Census</a>
<ul>
<li class="chapter" data-level="17.1" data-path="intro-to-apis-the-census.html"><a href="intro-to-apis-the-census.html#the-acs"><i class="fa fa-check"></i><b>17.1</b> The ACS</a></li>
<li class="chapter" data-level="17.2" data-path="intro-to-apis-the-census.html"><a href="intro-to-apis-the-census.html#wide-results"><i class="fa fa-check"></i><b>17.2</b> “Wide” Results</a></li>
<li class="chapter" data-level="17.3" data-path="intro-to-apis-the-census.html"><a href="intro-to-apis-the-census.html#sorting-results"><i class="fa fa-check"></i><b>17.3</b> Sorting Results</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="visualizing-your-data-for-reporting.html"><a href="visualizing-your-data-for-reporting.html"><i class="fa fa-check"></i><b>18</b> Visualizing your data for reporting</a>
<ul>
<li class="chapter" data-level="18.1" data-path="visualizing-your-data-for-reporting.html"><a href="visualizing-your-data-for-reporting.html#bar-charts"><i class="fa fa-check"></i><b>18.1</b> Bar charts</a></li>
<li class="chapter" data-level="18.2" data-path="visualizing-your-data-for-reporting.html"><a href="visualizing-your-data-for-reporting.html#line-charts"><i class="fa fa-check"></i><b>18.2</b> Line charts</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="visualizing-your-data-for-publication.html"><a href="visualizing-your-data-for-publication.html"><i class="fa fa-check"></i><b>19</b> Visualizing your data for publication</a>
<ul>
<li class="chapter" data-level="19.1" data-path="visualizing-your-data-for-publication.html"><a href="visualizing-your-data-for-publication.html#datawrapper"><i class="fa fa-check"></i><b>19.1</b> Datawrapper</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="visualizing-your-data-for-publication.html"><a href="visualizing-your-data-for-publication.html#making-a-map"><i class="fa fa-check"></i><b>19.1.1</b> Making a Map</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="geographic-data-basics.html"><a href="geographic-data-basics.html"><i class="fa fa-check"></i><b>20</b> Geographic data basics</a>
<ul>
<li class="chapter" data-level="20.1" data-path="geographic-data-basics.html"><a href="geographic-data-basics.html#importing-and-viewing-data"><i class="fa fa-check"></i><b>20.1</b> Importing and viewing data</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="geographic-analysis.html"><a href="geographic-analysis.html"><i class="fa fa-check"></i><b>21</b> Geographic analysis</a></li>
<li class="chapter" data-level="22" data-path="automating-analysis.html"><a href="automating-analysis.html"><i class="fa fa-check"></i><b>22</b> Automating analysis</a>
<ul>
<li class="chapter" data-level="22.1" data-path="automating-analysis.html"><a href="automating-analysis.html#automating-downloads-and-imports"><i class="fa fa-check"></i><b>22.1</b> Automating downloads and imports</a></li>
<li class="chapter" data-level="22.2" data-path="automating-analysis.html"><a href="automating-analysis.html#exploring-the-data"><i class="fa fa-check"></i><b>22.2</b> Exploring the data</a></li>
<li class="chapter" data-level="22.3" data-path="automating-analysis.html"><a href="automating-analysis.html#analysis"><i class="fa fa-check"></i><b>22.3</b> Analysis</a></li>
<li class="chapter" data-level="22.4" data-path="automating-analysis.html"><a href="automating-analysis.html#making-updating-graphics"><i class="fa fa-check"></i><b>22.4</b> Making updating graphics</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="automating-geographic-analysis.html"><a href="automating-geographic-analysis.html"><i class="fa fa-check"></i><b>23</b> Automating geographic analysis</a>
<ul>
<li class="chapter" data-level="23.1" data-path="automating-geographic-analysis.html"><a href="automating-geographic-analysis.html#mapping-continuously"><i class="fa fa-check"></i><b>23.1</b> Mapping continuously</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="basic-stats-linear-regression-and-the-t-test.html"><a href="basic-stats-linear-regression-and-the-t-test.html"><i class="fa fa-check"></i><b>24</b> Basic Stats: Linear Regression and The T-Test</a></li>
<li class="chapter" data-level="25" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>25</b> Linear Regression</a></li>
<li class="chapter" data-level="26" data-path="t-tests.html"><a href="t-tests.html"><i class="fa fa-check"></i><b>26</b> T-tests</a></li>
<li class="chapter" data-level="27" data-path="an-intro-to-text-analysis.html"><a href="an-intro-to-text-analysis.html"><i class="fa fa-check"></i><b>27</b> An intro to text analysis</a>
<ul>
<li class="chapter" data-level="27.1" data-path="an-intro-to-text-analysis.html"><a href="an-intro-to-text-analysis.html#going-beyond-a-single-word"><i class="fa fa-check"></i><b>27.1</b> Going beyond a single word</a></li>
<li class="chapter" data-level="27.2" data-path="an-intro-to-text-analysis.html"><a href="an-intro-to-text-analysis.html#sentiment-analysis"><i class="fa fa-check"></i><b>27.2</b> Sentiment Analysis</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="writing-with-numbers.html"><a href="writing-with-numbers.html"><i class="fa fa-check"></i><b>28</b> Writing with numbers</a>
<ul>
<li class="chapter" data-level="28.1" data-path="writing-with-numbers.html"><a href="writing-with-numbers.html#how-to-write-about-numbers-without-overwhelming-with-numbers."><i class="fa fa-check"></i><b>28.1</b> How to write about numbers without overwhelming with numbers.</a></li>
<li class="chapter" data-level="28.2" data-path="writing-with-numbers.html"><a href="writing-with-numbers.html#when-exact-numbers-matter"><i class="fa fa-check"></i><b>28.2</b> When exact numbers matter</a></li>
<li class="chapter" data-level="28.3" data-path="writing-with-numbers.html"><a href="writing-with-numbers.html#an-example"><i class="fa fa-check"></i><b>28.3</b> An example</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="ethics-in-data-journalism.html"><a href="ethics-in-data-journalism.html"><i class="fa fa-check"></i><b>29</b> Ethics in data journalism</a>
<ul>
<li class="chapter" data-level="29.1" data-path="ethics-in-data-journalism.html"><a href="ethics-in-data-journalism.html#problems"><i class="fa fa-check"></i><b>29.1</b> Problems</a></li>
<li class="chapter" data-level="29.2" data-path="ethics-in-data-journalism.html"><a href="ethics-in-data-journalism.html#the-googlebot"><i class="fa fa-check"></i><b>29.2</b> The Googlebot</a></li>
<li class="chapter" data-level="29.3" data-path="ethics-in-data-journalism.html"><a href="ethics-in-data-journalism.html#data-lifetimes"><i class="fa fa-check"></i><b>29.3</b> Data Lifetimes</a></li>
<li class="chapter" data-level="29.4" data-path="ethics-in-data-journalism.html"><a href="ethics-in-data-journalism.html#you-are-a-data-provider"><i class="fa fa-check"></i><b>29.4</b> You Are a Data Provider</a></li>
<li class="chapter" data-level="29.5" data-path="ethics-in-data-journalism.html"><a href="ethics-in-data-journalism.html#ethical-data"><i class="fa fa-check"></i><b>29.5</b> Ethical Data</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="using-github.html"><a href="using-github.html"><i class="fa fa-check"></i><b>30</b> Using GitHub</a>
<ul>
<li class="chapter" data-level="30.1" data-path="using-github.html"><a href="using-github.html#how-it-works"><i class="fa fa-check"></i><b>30.1</b> How It Works</a></li>
<li class="chapter" data-level="30.2" data-path="using-github.html"><a href="using-github.html#getting-started"><i class="fa fa-check"></i><b>30.2</b> Getting Started</a></li>
<li class="chapter" data-level="30.3" data-path="using-github.html"><a href="using-github.html#advanced-use"><i class="fa fa-check"></i><b>30.3</b> Advanced Use</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Journalism with R and the Tidyverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualizing-your-data-for-reporting" class="section level1" number="18">
<h1><span class="header-section-number">Chapter 18</span> Visualizing your data for reporting</h1>
<p>Visualizing data is becoming a much greater part of journalism. Large news organizations are creating graphics desks that create complex visuals with data to inform the public about important events.</p>
<p>To do it well is a course on its own. And not every story needs a feat of programming and art. Sometimes, you can help yourself and your story by just creating a quick chart, which helps you see patterns in the data that wouldn’t otherwise surface.</p>
<p>Good news: one of the best libraries for visualizing data is in the tidyverse and it’s pretty simple to make simple charts quickly with just a little bit of code. It’s called <a href="https://ggplot2.tidyverse.org/">ggplot2</a>.</p>
<p>Let’s revisit some data we’ve used in the past and turn it into charts. First, let’s load libraries. When we load the tidyverse, we get ggplot2.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="visualizing-your-data-for-reporting.html#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>The dataset we’ll use is the PPP loan data for Maryland. Let’s load it.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="visualizing-your-data-for-reporting.html#cb328-1" aria-hidden="true" tabindex="-1"></a>ppp_maryland <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;pre_labs/pre_lab_09/data/ppp_loans_md.csv.zip&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   .default = col_character(),
##   id = col_double(),
##   amount = col_double(),
##   naics_code = col_double(),
##   non_profit = col_logical(),
##   jobs_retained = col_double(),
##   date_approved = col_date(format = &quot;&quot;),
##   loan_range_sort_key = col_logical(),
##   previous_loan_range = col_logical(),
##   previous_name = col_logical(),
##   loan_number = col_double(),
##   sba_office_code = col_double(),
##   term = col_double(),
##   sba_guaranty_percentage = col_double(),
##   initial_approval_amount = col_double(),
##   current_approval_amount = col_double(),
##   undisbursed_amount = col_double(),
##   servicing_lender_location_id = col_double(),
##   utilities_proceed = col_double(),
##   payroll_proceed = col_double(),
##   mortgage_interest_proceed = col_double()
##   # ... with 12 more columns
## )
## ℹ Use `spec()` for the full column specifications.</code></pre>
<pre><code>## Warning: 12802 parsing failures.
##    row      col           expected                                           actual                                            file
## 170056 old_slug 1/0/T/F/TRUE/FALSE aditi-llc-d139eb25916444a03984f38eebda4e63       &#39;pre_labs/pre_lab_09/data/ppp_loans_md.csv.zip&#39;
## 170057 old_slug 1/0/T/F/TRUE/FALSE jvef-inc-00d405e42fed70949e474a678fb7cefe        &#39;pre_labs/pre_lab_09/data/ppp_loans_md.csv.zip&#39;
## 170058 old_slug 1/0/T/F/TRUE/FALSE mak-express-inc-9cc921dee107cb65c6728e818fb49c2a &#39;pre_labs/pre_lab_09/data/ppp_loans_md.csv.zip&#39;
## 170059 old_slug 1/0/T/F/TRUE/FALSE pro-coat-llc-133a6b10843b022d479acb6bce5755c7    &#39;pre_labs/pre_lab_09/data/ppp_loans_md.csv.zip&#39;
## 170060 old_slug 1/0/T/F/TRUE/FALSE dvcanvass-llc-7b4219ba6ad6aa4b4b8fcb47b8d683c4   &#39;pre_labs/pre_lab_09/data/ppp_loans_md.csv.zip&#39;
## ...... ........ .................. ................................................ ...............................................
## See problems(...) for more details.</code></pre>
<div id="bar-charts" class="section level2" number="18.1">
<h2><span class="header-section-number">18.1</span> Bar charts</h2>
<p>The first kind of chart we’ll create is a simple bar chart.</p>
<p>It’s a chart designed to show differences between things – the magnitude of one thing, compared to the next thing, and the next, and the next.</p>
<p>So if we have thing, like a county, or a state, or a group name, and then a count of that group, we can make a bar chart.</p>
<p>So what does the chart of the top 10 maryland counties with the most total PPP loans look like?</p>
<p>First, we’ll create a dataframe of those top 10, called maryland_ppp_top_counties.</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="visualizing-your-data-for-reporting.html#cb331-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="ot">&lt;-</span> ppp_maryland <span class="sc">%&gt;%</span></span>
<span id="cb331-2"><a href="visualizing-your-data-for-reporting.html#cb331-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(project_county_name) <span class="sc">%&gt;%</span></span>
<span id="cb331-3"><a href="visualizing-your-data-for-reporting.html#cb331-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb331-4"><a href="visualizing-your-data-for-reporting.html#cb331-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_loans =</span> <span class="fu">n</span>()</span>
<span id="cb331-5"><a href="visualizing-your-data-for-reporting.html#cb331-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb331-6"><a href="visualizing-your-data-for-reporting.html#cb331-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_loans)) <span class="sc">%&gt;%</span></span>
<span id="cb331-7"><a href="visualizing-your-data-for-reporting.html#cb331-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb331-8"><a href="visualizing-your-data-for-reporting.html#cb331-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-9"><a href="visualizing-your-data-for-reporting.html#cb331-9" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties</span></code></pre></div>
<pre><code>## # A tibble: 10 x 2
##    project_county_name total_loans
##    &lt;chr&gt;                     &lt;int&gt;
##  1 MONTGOMERY                38782
##  2 PRINCE GEORGES            34409
##  3 BALTIMORE                 28789
##  4 BALTIMORE CITY            20004
##  5 ANNE ARUNDEL              17336
##  6 HOWARD                    12011
##  7 FREDERICK                  6666
##  8 HARFORD                    6301
##  9 CHARLES                    4398
## 10 CARROLL                    4040</code></pre>
<p>Now let’s create a bar chart using ggplot.</p>
<p>With ggplot, the first thing we’ll always do is draw a blank canvas that will house our chart. We start with our dataframe name, and then (%&gt;%) we invoke the ggplot() function to make that blank canvas. All this does is make a gray box, the blank canvas that will hold our chart.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="visualizing-your-data-for-reporting.html#cb333-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="sc">%&gt;%</span></span>
<span id="cb333-2"><a href="visualizing-your-data-for-reporting.html#cb333-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-196-1.png" width="672" /></p>
<p>Next we need to tell ggplot what kind of chart to make.</p>
<p>In ggplot, we work with two key concepts called geometries (abbreivated frequently as geom) and asthetics (abbreviated as aes).</p>
<p>Geometries are the shape that the data will take; think of line charts, bar charts, scatterplots, histograms, pie charts and other common graphics forms.</p>
<p>Asesthetics help ggplot know what component of our data to visualize – why we’ll visualize values from one column instead of another.</p>
<p>In a bar chart, we first pass in the data to the geometry, then set the aesthetic.</p>
<p>In the codeblock below, we’ve added a new function, geom_bar().</p>
<p>Using geom_bar() – as opposed to geom_line() – says we’re making a bar chart.</p>
<p>Inside of that function, the asthetic, aes, says which columns to use in drawing the chart.</p>
<p>We’re setting the values on the x axis (horizontal) to be the name of the county. We set weight to total loans, and it uses that value to “weight” or set the height of each bar.</p>
<p>One quirk here with ggplot.</p>
<p>After we’ve invoked the ggplot() function, you’ll notice we’re using a + symbol. It means the same thing as %&gt;% – “and then do this.” It’s just a quirk of ggplot() that after you invoke the ggplot() function, you use + instead of %&gt;%. It makes no sense to me either, just something to live with.</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="visualizing-your-data-for-reporting.html#cb334-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="sc">%&gt;%</span></span>
<span id="cb334-2"><a href="visualizing-your-data-for-reporting.html#cb334-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb334-3"><a href="visualizing-your-data-for-reporting.html#cb334-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span>project_county_name, <span class="at">weight=</span>total_loans))</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-197-1.png" width="672" /></p>
<p>This is a very basic chart. But it’s hard to derive much meaning from this chart, because the counties aren’t ordered from highest to lowest by total_loans. We can fix that by using the reorder() function to do just that:</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="visualizing-your-data-for-reporting.html#cb335-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="sc">%&gt;%</span></span>
<span id="cb335-2"><a href="visualizing-your-data-for-reporting.html#cb335-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb335-3"><a href="visualizing-your-data-for-reporting.html#cb335-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(project_county_name,total_loans), <span class="at">weight=</span>total_loans))</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-198-1.png" width="672" /></p>
<p>This is a little more useful. But the bottom is kind of a mess, with overlapping names. We can fix that by flipping it from a vertical bar chart (also called a column chart) to a horizontal one. coord_flip() does that for you.</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="visualizing-your-data-for-reporting.html#cb336-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="sc">%&gt;%</span></span>
<span id="cb336-2"><a href="visualizing-your-data-for-reporting.html#cb336-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb336-3"><a href="visualizing-your-data-for-reporting.html#cb336-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(project_county_name,total_loans), <span class="at">weight=</span>total_loans)) <span class="sc">+</span></span>
<span id="cb336-4"><a href="visualizing-your-data-for-reporting.html#cb336-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-199-1.png" width="672" /></p>
<p>Is this art? No. Does it quickly tell you something meaningful? It does.</p>
<p>We’re mainly going to use these charts to help us in reporting, so style isn’t that important.</p>
<p>But it’s worth mentioning that we can pretty up these charts for publication, if we wanted to, with some more code. To style the chart, we can change or even modify the “theme,” a kind of skin that makes the chart look better.</p>
<p>It’s kind of like applying CSS to html. Here I’m changing the theme slightly to remove the gray background with one of ggplot’s built in themes, theme_minimal()</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="visualizing-your-data-for-reporting.html#cb337-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="sc">%&gt;%</span></span>
<span id="cb337-2"><a href="visualizing-your-data-for-reporting.html#cb337-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb337-3"><a href="visualizing-your-data-for-reporting.html#cb337-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(project_county_name,total_loans), <span class="at">weight=</span>total_loans)) <span class="sc">+</span></span>
<span id="cb337-4"><a href="visualizing-your-data-for-reporting.html#cb337-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb337-5"><a href="visualizing-your-data-for-reporting.html#cb337-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-200-1.png" width="672" />
The ggplot universe is pretty big, and lots of people have made and released cool themes for you to use. Want to make your graphics look kind of like <a href="https://www.economist.com/">The Economist’s</a> graphics? There’s a theme for that.</p>
<p>First, you have to install and load a package that contains lots of extra themes, called <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">ggthemes</a>.</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="visualizing-your-data-for-reporting.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&#39;ggthemes&#39;)</span></span>
<span id="cb338-2"><a href="visualizing-your-data-for-reporting.html#cb338-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code></pre></div>
<p>And now we’ll apply the economist theme from that package with theme_economist()</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="visualizing-your-data-for-reporting.html#cb339-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="sc">%&gt;%</span></span>
<span id="cb339-2"><a href="visualizing-your-data-for-reporting.html#cb339-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb339-3"><a href="visualizing-your-data-for-reporting.html#cb339-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(project_county_name,total_loans), <span class="at">weight=</span>total_loans)) <span class="sc">+</span></span>
<span id="cb339-4"><a href="visualizing-your-data-for-reporting.html#cb339-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb339-5"><a href="visualizing-your-data-for-reporting.html#cb339-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-202-1.png" width="672" />
Those axis titles are kind of a mess. Let’s change “count” on the x axis to “total loans” and change “reorder(project_county_name,total_loans)” to “county.” And while we’re at it, let’s add a basic title and a source as a caption. We’ll use a new function, labs(), which is short for labels.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="visualizing-your-data-for-reporting.html#cb340-1" aria-hidden="true" tabindex="-1"></a>maryland_ppp_top_counties <span class="sc">%&gt;%</span></span>
<span id="cb340-2"><a href="visualizing-your-data-for-reporting.html#cb340-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb340-3"><a href="visualizing-your-data-for-reporting.html#cb340-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(project_county_name,total_loans), <span class="at">weight=</span>total_loans)) <span class="sc">+</span></span>
<span id="cb340-4"><a href="visualizing-your-data-for-reporting.html#cb340-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb340-5"><a href="visualizing-your-data-for-reporting.html#cb340-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>() <span class="sc">+</span></span>
<span id="cb340-6"><a href="visualizing-your-data-for-reporting.html#cb340-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb340-7"><a href="visualizing-your-data-for-reporting.html#cb340-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&quot;Maryland Counties with Most PPP Loans&quot;</span>,</span>
<span id="cb340-8"><a href="visualizing-your-data-for-reporting.html#cb340-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;total loans&quot;</span>,</span>
<span id="cb340-9"><a href="visualizing-your-data-for-reporting.html#cb340-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;county&quot;</span>,</span>
<span id="cb340-10"><a href="visualizing-your-data-for-reporting.html#cb340-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;source: SBA PPP loan database&quot;</span></span>
<span id="cb340-11"><a href="visualizing-your-data-for-reporting.html#cb340-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb340-12"><a href="visualizing-your-data-for-reporting.html#cb340-12" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-203-1.png" width="672" />
Viola. Not super pretty, but good enough to show an editor to help them understand the conclusions you reached with your data analysis.</p>
</div>
<div id="line-charts" class="section level2" number="18.2">
<h2><span class="header-section-number">18.2</span> Line charts</h2>
<p>Let’s look at how to make another common chart type that will help you understand patterns in your data.</p>
<p>Line charts can show change over time. It works much the same as a bar chart, code wise, but instead of a weight, it uses a y.</p>
<p>So, let’s create a dataframe with a count of Maryland loans for each date in our dataframe.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="visualizing-your-data-for-reporting.html#cb341-1" aria-hidden="true" tabindex="-1"></a>ppp_maryland_loans_by_date <span class="ot">&lt;-</span> ppp_maryland <span class="sc">%&gt;%</span></span>
<span id="cb341-2"><a href="visualizing-your-data-for-reporting.html#cb341-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date_approved) <span class="sc">%&gt;%</span></span>
<span id="cb341-3"><a href="visualizing-your-data-for-reporting.html#cb341-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb341-4"><a href="visualizing-your-data-for-reporting.html#cb341-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_loans=</span><span class="fu">n</span>()</span>
<span id="cb341-5"><a href="visualizing-your-data-for-reporting.html#cb341-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb341-6"><a href="visualizing-your-data-for-reporting.html#cb341-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-7"><a href="visualizing-your-data-for-reporting.html#cb341-7" aria-hidden="true" tabindex="-1"></a>ppp_maryland_loans_by_date </span></code></pre></div>
<pre><code>## # A tibble: 235 x 2
##    date_approved total_loans
##    &lt;date&gt;              &lt;int&gt;
##  1 2020-04-03             28
##  2 2020-04-04            262
##  3 2020-04-05            487
##  4 2020-04-06            830
##  5 2020-04-07           1164
##  6 2020-04-08           1354
##  7 2020-04-09           1777
##  8 2020-04-10           1728
##  9 2020-04-11           1243
## 10 2020-04-12            528
## # … with 225 more rows</code></pre>
<p>And now let’s make a line chart to look for patterns in this data.</p>
<p>We’ll put the date on the x axis and total loans on the y axis.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="visualizing-your-data-for-reporting.html#cb343-1" aria-hidden="true" tabindex="-1"></a>ppp_maryland_loans_by_date <span class="sc">%&gt;%</span></span>
<span id="cb343-2"><a href="visualizing-your-data-for-reporting.html#cb343-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb343-3"><a href="visualizing-your-data-for-reporting.html#cb343-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>date_approved, <span class="at">y=</span>total_loans))</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-205-1.png" width="672" /></p>
<p>It’s not super pretty, but there’s an obvious pattern! There are a ton of loans right at the beginning of the program. There’s a trickle for the next few months, and then no loans at all for several months.</p>
<p>At the beginning of 2021, there’s another spike, and a pretty steady level with some fluctuations until July 2021. We know from previous chapters the explanation for this: there was a flood of loans when the program was first authorized, but it eventually ran out of money, and then it was later reauthorized.</p>
<p>Right now, it’s kind of hard to see specifics, though. Exactly when did loans fall to zero? August 2020?</p>
<p>We can’t really tell. So let’s modify the x axis to have one tick mark and label per month. We can do that with a function called scale_x_date().</p>
<p>We’ll set the date_breaks to appear for every month; if we wanted every week, we’d say date_breaks = “1 week.” We can set the date to appear as month abbreviated name (%b) and four-digit year (%Y).</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="visualizing-your-data-for-reporting.html#cb344-1" aria-hidden="true" tabindex="-1"></a>ppp_maryland_loans_by_date <span class="sc">%&gt;%</span></span>
<span id="cb344-2"><a href="visualizing-your-data-for-reporting.html#cb344-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb344-3"><a href="visualizing-your-data-for-reporting.html#cb344-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>date_approved, <span class="at">y=</span>total_loans)) <span class="sc">+</span> </span>
<span id="cb344-4"><a href="visualizing-your-data-for-reporting.html#cb344-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%b-%Y&quot;</span>)</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-206-1.png" width="672" /></p>
<p>Those are a little hard to read, so we can turn them 45 degrees to remove the overlap using the theme() function for styling. With “axis.text.x = element_text(angle = 45, hjust=1)” we’re saying, turn the date labels 45 degrees.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="visualizing-your-data-for-reporting.html#cb345-1" aria-hidden="true" tabindex="-1"></a>ppp_maryland_loans_by_date <span class="sc">%&gt;%</span></span>
<span id="cb345-2"><a href="visualizing-your-data-for-reporting.html#cb345-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb345-3"><a href="visualizing-your-data-for-reporting.html#cb345-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>date_approved, <span class="at">y=</span>total_loans)) <span class="sc">+</span> </span>
<span id="cb345-4"><a href="visualizing-your-data-for-reporting.html#cb345-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%b-%Y&quot;</span>) <span class="sc">+</span></span>
<span id="cb345-5"><a href="visualizing-your-data-for-reporting.html#cb345-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb345-6"><a href="visualizing-your-data-for-reporting.html#cb345-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>,  <span class="at">hjust=</span><span class="dv">1</span>)</span>
<span id="cb345-7"><a href="visualizing-your-data-for-reporting.html#cb345-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="datajournalism_files/figure-html/unnamed-chunk-207-1.png" width="672" /></p>
<p>Again, this isn’t as pretty as we could make it. But by charting this, we can quickly see a pattern that can help guide our reporting.</p>
<p>We’re just scratching the surface of what ggplot can do, and chart types. There’s so much more you can do, so many other chart types you can make. But the basics we’ve shown here will get you started.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro-to-apis-the-census.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualizing-your-data-for-publication.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/17-visualizingforreporting.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["datajournalism.pdf", "datajournalism.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
