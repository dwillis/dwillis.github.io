### My First R Markdown Notebook

This document is a place where you can combine words and code. Think of it as a narrated spreadsheet, except you can reproduce each step from the beginning, or change individual steps. Sentences and paragraphs like this you can type as you typically would in any document. Writing R code to accomplish tasks, such as loading some data or calculating an average, is done in special blocks like this:

```{r}
2+2
```

See that little green arrow to the right of that code block? If you click it, RStudio will run that block, which in this case adds 2+2 and prints the result directly below it and also in the Console below.

**Task** Go back up and change 2+2 to 2+4 and run the code block again. Type the output below. (2 pts)
**Answer** 

You already have a calculator, and R can do so much more. Remember how you installed Excel's data analysis package? We're going to do something similar for R in the next code block. The thing we're installing is called a library and the name of it is "tidyverse". You read that right, and software engineers are bad at naming things. Let's load it by running the following code block:

**Task** Run the code block

```{r}
install.packages('tidyverse')
```

You'll see a bunch of messages in the Console below and it should end with something like "The downloaded binary packages are in" and then a folder path. Once you install a package, you won't have to install it again on that computer.

Now we can load the tidyverse library so we can use it:

**Task** Run the code block

```{r}
library(tidyverse)
```

Ok, now we're ready to actually generate some statistics. Well, almost. First we need data. We're going to load a CSV file with information about courses at UMD - a spreadsheet, basically - from the Web using a function called `read_csv`. It reads CSV files.

**Task** Run the code block below and look at the result. At the bottom of the table you should see "Showing 1 to 21 of...". Type how many rows and columns are in this data below. (5 pts)
**Answer** 

```{r}
courses <- read_csv("https://dwillis.github.io/jour405/courses.csv")

View(courses)
```
Using R and the tidyverse library, we can now do some of the things we've done with Excel. Let's start with sorting. What course has the most seats listed?

**Task** Run the code block below and list the course ID, title and number of seats for the first row of the result. (5 pts)
**Answer** 

```{r}
courses %>% arrange(desc(seats)) %>% select(id, title, seats)
```

Let's take a look at that code, and I'll provide some notes:

```{r}
# we start with the name of the dataframe (which is what each dataset is called)
# and then follow it with %>% which basically means, "and then..." - it's a way of connecting multiple actions together
courses %>% 
# arrange does what you think it would - it's the equivalent of sorting, 
# and in this case we're sorting by the seats column in descending (Z-A) order
# so the course with the largest number of seats is first. And then...
  arrange(desc(seats)) %>% 
# select tells R, I only want to see these columns from the dataframe, not everything.
# you don't have to use it, but it can make things easier to read
    select(id, title, seats)
```

You can run that code block and it will work exactly the same - R ignores the comments!

Next, let's filter - that's the same thing we do in Excel to find only certain records. We want to find the Journalism courses, so we'll filter on the department:

**Task** Run the code block below and look below the first page of results where it says "1-10 of X rows". Write the number of rows below. (3 pts)
**Answer** 

```{r}
courses %>% 
  # when filtering on an exact match, use ==
  filter(department == 'Journalism')
```

Filtering narrows down the records we see based on criteria we provide. If you wanted to see all of the times that the course "Plagues, Pathogens and Public Policy" has been offered in recent terms, you'd filter by title.

**Task** Add to the following code block so that it runs without error and returns only those rows where the course title is "Plagues, Pathogens and Public Policy". (5 points)

```{r}
courses %>% filter(REPLACE THIS WITH YOUR FILTER)
```

Let's calculate the average (mean) and median number of seats for Journalism classes in the Spring 2023 semester (that's term 202301 in our data). Similar to Excel, the functions to do this are `mean()` and `median()`.

**Task** Run the following code block and type in the answers for mean and median (5 points)
**Answer** 

```{r}
courses %>% 
  filter(department == 'Journalism', term == 202301) %>% 
  summarize(average = mean(seats), median = median(seats))
```
Finally, we'll make a basic histogram showing the number of seats and how many courses have each value. To do so, we'll build on our earlier filter and then use `ggplot()`, which is the tidyverse's graphics maker.

**Task** Run the following code and describe the distribution in a sentence. (10 points)
**Answer** 

```{r}
courses %>% 
  filter(department == 'Journalism', term == 202301) %>% 
  ggplot() +
  geom_histogram(aes(x=seats))
```

When you are finished, save this notebook with the following name: LASTNAME_intro.rmd, replacing LASTNAME with your last name, and upload it to ELMS.
